head	1.11;
access;
symbols
	rcsi_0_3:1.10
	rcsi_0_2:1.10
	rcsi_0_1:1.9;
locks; strict;
comment	@# @;


1.11
date	97.12.05.09.10.20;	author cmb;	state Exp;
branches;
next	1.10;

1.10
date	94.11.09.16.52.33;	author cmb;	state Exp;
branches;
next	1.9;

1.9
date	94.11.02.14.00.05;	author cmb;	state Exp;
branches;
next	1.8;

1.8
date	94.11.02.13.32.00;	author cmb;	state Exp;
branches;
next	1.7;

1.7
date	94.10.30.14.22.17;	author cmb;	state Exp;
branches;
next	1.6;

1.6
date	94.10.30.14.21.20;	author cmb;	state Exp;
branches;
next	1.5;

1.5
date	94.10.30.13.45.45;	author cmb;	state Exp;
branches;
next	1.4;

1.4
date	94.08.30.21.41.20;	author cmb;	state Exp;
branches;
next	1.3;

1.3
date	94.02.11.23.09.49;	author cmb;	state Exp;
branches;
next	1.2;

1.2
date	94.02.10.00.12.50;	author cmb;	state Exp;
branches;
next	1.1;

1.1
date	93.08.03.22.43.58;	author cmb;	state Exp;
branches;
next	;


desc
@Makefile for the C/misc directory
@


1.11
log
@Updated makefile - better target, more warnings etc, not separate
stripping of executable, and updated version number for creating the
tar files.
@
text
@#----------------------------------------------------------------------
#
#	Makefile for rcsi
#
#----------------------------------------------------------------------
# $Id: Makefile,v 1.10 1994/11/09 16:52:33 cmb Exp cmb $
#
# $Log: Makefile,v $
# Revision 1.10  1994/11/09  16:52:33  cmb
# Changed tar file creation to version 0.2
#
# Revision 1.9  1994/11/02 14:00:05  cmb
# Added manual page to creation of tar file.
#
# Revision 1.8  1994/11/02 13:32:00  cmb
# Tweaked to be more in tune with multiple target architectures.
#
# Revision 1.7  1994/10/30 14:22:17  cmb
# Fixed minor sytax error.
#
# Revision 1.6  1994/10/30  14:21:20  cmb
# This looks nearly ready to distribute.
#
#----------------------------------------------------------------------

TAR	= tar

all:	rcsi

#----------------------------------------------------------------------
#	Actually build the rcsi binary. First target builds an
#	optimised and stripped version, and defaults to using 'gcc'.
#	Later ones are for the various architectures that I have
#	successfully tested 'rcsi' on.

rcsi	: rcsi.c
	gcc -Wall -O2 -Xlinker -s -o rcsi rcsi.c

sunos	: rcsi

solaris	irix osf1	: rcsi.c
	cc -O -o rcsi rcsi.c

#----------------------------------------------------------------------
#	Make a tar file ready for distribution. Use gnutar and the 
#	in-built compression via gzip.

tar	:
	rm -rf rcsi-0.4
	mkdir rcsi-0.4
	cp COPYING README rcsi.c rcsi.1 Makefile rcsi-0.4
	$(TAR) czvf rcsi-0.4.tar.gz rcsi-0.4

#----------------------------------------------------------------------
#	Get rid of all the guff that accumulates...

clean:
	rm -rf rcsi *~ rcsi-0.4 rcsi-0.4.tar.gz
@


1.10
log
@Changed tar file creation to version 0.2
@
text
@d6 1
a6 1
# $Id: Makefile,v 1.9 1994/11/02 14:00:05 cmb Exp cmb $
d9 3
d37 1
a37 2
	gcc -O2 -o rcsi rcsi.c
	strip rcsi
d49 4
a52 4
	rm -rf rcsi-0.2
	mkdir rcsi-0.2
	cp COPYING README rcsi.c rcsi.1 Makefile rcsi-0.2
	$(TAR) czvf rcsi-0.2.tar.gz rcsi-0.2
d58 1
a58 1
	rm -rf rcsi *~ rcsi-0.2 rcsi-0.2.tar.gz
@


1.9
log
@Added manual page to creation of tar file.
@
text
@d6 1
a6 1
# $Id: Makefile,v 1.8 1994/11/02 13:32:00 cmb Exp cmb $
d9 3
d47 4
a50 4
	rm -rf rcsi-0.1
	mkdir rcsi-0.1
	cp COPYING README rcsi.c rcsi.1 Makefile rcsi-0.1
	$(TAR) czvf rcsi-0.1.tar.gz rcsi-0.1
d56 1
a56 1
	rm -rf rcsi *~ rcsi-0.1 rcsi-0.1.tar.gz
@


1.8
log
@Tweaked to be more in tune with multiple target architectures.
@
text
@d6 1
a6 1
# $Id: Makefile,v 1.7 1994/10/30 14:22:17 cmb Exp cmb $
d9 3
d46 1
a46 1
	cp COPYING README rcsi.c Makefile rcsi-0.1
@


1.7
log
@Fixed minor sytax error.
@
text
@d6 1
a6 1
# $Id: Makefile,v 1.6 1994/10/30 14:21:20 cmb Exp cmb $
d9 3
d17 1
a17 1
CC	= gcc
d23 3
a25 3
#	optimised and stripped version. Second target includes
#	debugging information and should compile faster too, since no
#	optimisation is done by the compiler.
d28 1
a28 1
	$(CC) -O2 -Wall -o rcsi rcsi.c
d31 4
a34 2
test_rcsi	: rcsi.c
	$(CC) -g -Wall -o rcsi rcsi.c
d44 1
a44 1
	tar czvf rcsi-0.1.tar.gz rcsi-0.1
@


1.6
log
@This looks nearly ready to distribute.
@
text
@d6 1
a6 1
# $Id: Makefile,v 1.5 1994/10/30 13:45:45 cmb Exp cmb $
d9 3
d33 1
a33 1
*	in-built compression via gzip.
@


1.5
log
@Added some more rcsi related stuff.
@
text
@d3 1
a3 1
#	Makefile for the C/misc directory
d6 1
a6 1
# $Id: Makefile,v 1.4 1994/08/30 21:41:20 cmb Exp cmb $
a8 14
# Revision 1.4  1994/08/30  21:41:20  cmb
# minor change.
#
# Revision 1.3  1994/02/11  23:09:49  cmb
# Minor changes,
# ,
#
# Revision 1.2  1994/02/10  00:12:50  cmb
# More targets
# ,
#
# Revision 1.1  1993/08/03  22:43:58  cmb
# Initial revision
#
a11 1
CFLAGS	= -g -O2
d13 1
a13 19
OBJS	= addlf		\
	  address	\
	  backdrop	\
	  crlf		\
	  curses_ex	\
	  file_compare	\
	  file_compare2	\
	  maze		\
	  pic		\
	  print		\
	  qsort_test	\
	  rcsi		\
	  screen	\
	  settime.c	\
	  shortest_path	\
	  sine		\
	  sound		\
	  stat_test	\
	  wc
d15 5
a19 7
all:	$(OBJS)

curses_ex	: curses_ex.c
	$(CC) $(CFLAGS) -o curses_ex curses_ex.c -lncurses 

file_compare2	: file_compare2.c
	$(CC) $(CFLAGS) -DFCMPTEST -o file_compare2 file_compare2.c
d22 1
a22 1
	gcc -O2 -Wall -o rcsi rcsi.c
a23 1
	cp rcsi /home/cmb/bin
d26 14
a39 1
	gcc -g -Wall -o rcsi rcsi.c
d42 1
a42 1
	rm -f $(OBJS) *~
@


1.4
log
@minor change.
@
text
@d6 1
a6 1
# $Id: Makefile,v 1.3 1994/02/11 23:09:49 cmb Exp cmb $
d9 3
d39 1
a39 1
	  rcsi_new	\
d56 7
a62 3
rcsi_new	: rcsi_new.c
	$(CC) $(CFLAGS) -o rcsi_new rcsi_new.c
	cp rcsi_new /home/cmb/bin/rcsi
@


1.3
log
@Minor changes,
,
@
text
@d6 1
a6 1
# $Id: Makefile,v 1.2 1994/02/10 00:12:50 cmb Exp cmb $
d9 4
d26 1
d34 1
@


1.2
log
@More targets
,
@
text
@d6 1
a6 1
# $Id: Makefile,v 1.1 1993/08/03 22:43:58 cmb Exp cmb $
d9 4
d19 1
a19 1
CFLAGS	= -g
d48 2
a49 1
	$(CC) $(CFLAGS) -DDEBUG -o rcsi_new rcsi_new.c
@


1.1
log
@Initial revision
@
text
@d6 1
a6 1
# $Id$
d8 4
a11 1
# $Log$
d20 3
d26 1
d28 1
d36 9
@
